{"version":3,"sources":["components/Search.js","components/Add.js","components/Person.js","components/Notification.js","crud_service.js","App.js","reportWebVitals.js","index.js"],"names":["Search","changeHandler","onChange","e","Add","nameChangeHandler","numberChangeHandler","clickHandler","onSubmit","className","type","Person","name","number","onClick","styles","error","width","color","padding","fontWeight","backgroundColor","border","success","Notification","notificationStyle","message","style","url","service","getAll","axios","get","then","res","data","create","item","post","update","itemId","put","remove","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchWord","setSearchWord","setMessage","setError","useEffect","notification","handleUpdate","person","id","setTimeout","catch","target","value","preventDefault","newPerson","every","result","match","find","i","window","confirm","map","toLowerCase","includes","n","handleDeleteClick","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c79cbe81.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ changeHandler }) => {\r\n    return (\r\n        <div>\r\n            Filter: <input onChange={(e) => changeHandler(e)} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nexport const Add = ({ nameChangeHandler, numberChangeHandler, clickHandler }) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={(e) => clickHandler(e)}>\r\n                <div className=\"input-line\">\r\n                    <p>Name:</p>\r\n                    <input onChange={(e) => nameChangeHandler(e)} />\r\n                </div>\r\n                <div className=\"input-line\">\r\n                    <p>Number:</p>\r\n                    <input onChange={(e) => numberChangeHandler(e)} />\r\n                </div>\r\n                <button className=\"add-button\" type=\"submit\">\r\n                    Add\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Add;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ name, number, clickHandler }) => {\r\n    return (\r\n        <p>\r\n            {name} {number} <button onClick={() => clickHandler()}>Delete</button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default Person;\r\n","const Notification = ({ type, message }) => {\r\n    let notificationStyle;\r\n\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n    if (type === \"error\") {\r\n        notificationStyle = styles.error;\r\n    } else {\r\n        notificationStyle = styles.success;\r\n    }\r\n\r\n    return <p style={notificationStyle}>{message}</p>;\r\n};\r\n\r\nconst styles = {\r\n    error: {\r\n        width: \"fit-content\",\r\n        color: \"red\",\r\n        padding: \"1em\",\r\n        fontWeight: \"bold\",\r\n        backgroundColor: \"whitesmoke\",\r\n        border: \"2px solid red\",\r\n    },\r\n    success: {\r\n        width: \"fit-content\",\r\n        color: \"darkgreen\",\r\n        padding: \"1em\",\r\n        fontWeight: \"bold\",\r\n        backgroundColor: \"lightgreen\",\r\n        border: \"2px solid darkgreen\",\r\n    },\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n\r\nconst url = \"https://fso-puhelinluettelo-backend.herokuapp.com/api/persons\";\r\n/* const url = \"http://localhost:3001/api/persons\"; */\r\n\r\nconst getAll = () => {\r\n    return axios.get(url).then((res) => res.data);\r\n};\r\n\r\nconst create = (item) => {\r\n    return axios.post(url, item);\r\n};\r\n\r\nconst remove = (itemId) => {\r\n    return axios.delete(`${url}/${itemId}`);\r\n};\r\n\r\nconst update = (itemId, data) => {\r\n    return axios.put(`${url}/${itemId}`, data);\r\n};\r\n\r\nconst service = { getAll, create, update, remove };\r\nexport default service;\r\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Search from \"./components/Search\";\nimport Add from \"./components/Add\";\nimport Person from \"./components/Person\";\nimport Notification from \"./components/Notification\";\n// Separate module for server operations.\nimport service from \"./crud_service\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n    const [searchWord, setSearchWord] = useState(\"\");\n    const [message, setMessage] = useState(null);\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        service.getAll().then((res) => {\n            setPersons(res);\n        });\n    }, []);\n\n    const handleAddClick = (e) => {\n        e.preventDefault();\n        const newPerson = { name: newName, number: newNumber };\n\n        // Shows an error if a field is empty.\n        if (newPerson.name === \"\" || newPerson.number === \"\") {\n            setError(\"true\");\n            setMessage(\"Missing data\");\n            setTimeout(() => {\n                setMessage(null);\n            }, 3000);\n        }\n        // If the name already exists, asks if user wants to update.\n        else if (!persons.every((person) => person.name !== newName)) {\n            const match = persons.find((i) => i.name === newPerson.name);\n            if (window.confirm(\"A phone number with this name already exists. Do you want to update the number?\")) {\n                handleUpdate(match, newPerson);\n            }\n        }\n        // If the number already exists, asks if user wants to update.\n        else if (!persons.every((person) => person.number !== newNumber)) {\n            const match = persons.find((i) => i.number === newPerson.number);\n            if (window.confirm(\"This phone number is already assigned to a person. Do you want to update the name?\")) {\n                handleUpdate(match, newPerson);\n            }\n        } else {\n            service\n                .create(newPerson)\n                .then(() => service.getAll())\n                .then((result) => {\n                    setPersons(result);\n                    setError(false);\n                    setMessage(\"Added \" + newPerson.name);\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 3000);\n                });\n        }\n    };\n\n    const handleUpdate = (person, data) => {\n        service\n            .update(person.id, data)\n            .then(() => service.getAll())\n            .then((res) => {\n                setPersons(res);\n                setError(false);\n                setMessage(`Updated: ${data.name} - ${data.number}`);\n                setTimeout(() => {\n                    setMessage(null);\n                }, 3000);\n            })\n            .catch(() => {\n                setError(true);\n                setMessage(person.name + \" is already deleted.\");\n            });\n    };\n\n    const handleDeleteClick = (id) => {\n        const person = persons.find((n) => n.id === id);\n\n        if (window.confirm(\"Confirm delete \" + person.name)) {\n            service\n                .remove(id)\n                .then(() => service.getAll())\n                .then((result) => {\n                    setPersons(result);\n                    setError(false);\n                    setMessage(\"Deleted \" + person.name);\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 3000);\n                })\n                .catch(() => {\n                    setError(true);\n                    setMessage(person.name + \" is already deleted.\");\n                });\n        }\n    };\n\n    const handleNumberChange = (e) => {\n        setNewNumber(e.target.value);\n    };\n\n    const handleNameChange = (e) => {\n        setNewName(e.target.value);\n    };\n\n    const handleSearchChange = (e) => {\n        setSearchWord(e.target.value);\n    };\n\n    let notification;\n    if (error) {\n        notification = <Notification type=\"error\" message={message} />;\n    } else {\n        notification = <Notification type=\"success\" message={message} />;\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            {notification}\n            <Search changeHandler={handleSearchChange} />\n            <h3>Add a new person</h3>\n            <Add\n                nameChangeHandler={handleNameChange}\n                numberChangeHandler={handleNumberChange}\n                clickHandler={handleAddClick}\n            />\n            <h2>Numbers</h2>\n            {persons.map((person) => {\n                if (person.name.toLowerCase().includes(searchWord.toLowerCase())) {\n                    return (\n                        <Person\n                            key={person.name}\n                            name={person.name}\n                            number={person.number}\n                            clickHandler={() => handleDeleteClick(person.id)}\n                        />\n                    );\n                } else {\n                    return null;\n                }\n            })}\n        </div>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}